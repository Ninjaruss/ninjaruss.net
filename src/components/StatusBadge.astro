---
interface Props {
  status: 'completed' | 'ongoing' | 'unresolved';
  size?: 'sm' | 'md';
}

const { status, size = 'sm' } = Astro.props;

const statusLabels = {
  completed: 'Completed',
  ongoing: 'Ongoing',
  unresolved: 'Unresolved',
};
---

<span class:list={['status-badge', `status-badge--${status}`, `status-badge--${size}`]}>
  {statusLabels[status]}
</span>

<style>
  .status-badge {
    display: inline-flex;
    align-items: center;
    font-family: var(--font-display);
    text-transform: uppercase;
    letter-spacing: var(--tracking-label);
    border-radius: var(--radius-sm);
  }

  .status-badge--sm {
    font-size: var(--text-xs);
    padding: var(--space-xs) var(--space-sm);
  }

  .status-badge--md {
    font-size: var(--text-sm);
    padding: var(--space-xs) var(--space-md);
  }

  /* WCAG AA compliant contrast ratios */
  .status-badge--completed {
    background: #16a34a; /* Darker green for 4.7:1 contrast with white */
    color: var(--color-white);
  }

  .status-badge--ongoing {
    background: var(--color-ongoing);
    color: var(--color-black);
  }

  .status-badge--unresolved {
    background: #6b7280; /* Darker gray for 5.4:1 contrast with white */
    color: var(--color-white);
  }
</style>
