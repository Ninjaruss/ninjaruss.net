---
interface Props {
  date?: Date;
  updatedAt?: Date;
  size?: 'sm' | 'md';
}

const { date, updatedAt, size = 'sm' } = Astro.props;

const formatDate = (d: Date) => {
  return d.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
  });
};
---

{date && (
  <time class:list={['date-display', `date-display--${size}`]} datetime={date.toISOString()}>
    <span class="date-display__label">Published</span>
    <span class="date-display__value">{formatDate(date)}</span>
    {updatedAt && updatedAt > date && (
      <>
        <span class="date-display__separator">Â·</span>
        <span class="date-display__updated">Updated {formatDate(updatedAt)}</span>
      </>
    )}
  </time>
)}

<style>
  .date-display {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    font-family: var(--font-body);
    color: var(--color-text-muted);
  }

  .date-display--sm {
    font-size: var(--text-xs);
  }

  .date-display--md {
    font-size: var(--text-sm);
  }

  .date-display__label {
    display: none;
  }

  .date-display__separator {
    opacity: 0.5;
  }

  .date-display__updated {
    font-style: italic;
  }
</style>
